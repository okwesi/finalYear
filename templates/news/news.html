{% extends "base.html" %}


{% block content %}
<!-- Topics Menu Here -->
<div class="scrollmenu  mb-2 text-center">
    <a href='{% url "news" %}' type="button" class="btn btn-outline-secondary rounded-pill "
        style="width:6rem; height: 40px;">
        <p class="" style="text-align: center; font-size: 16px;  ">
            All</p>
    </a>
    <a href='{% url "newscategory" "Campus" %}' type="button" class="btn btn-outline-secondary rounded-pill "
        style="width:6rem; height: 40px;">
        <p class="" style="text-align: center; font-size: 16px;  ">
            Campus</p>
    </a>
    <a href='{% url "newscategory" "Local" %}' type="button" class="btn btn-outline-secondary rounded-pill "
        style="width:6rem; height: 40px;">
        <p class="" style="text-align: center; font-size: 16px;  ">
            Local</p>
    </a>
    <a href='{% url "newscategory" "Global" %}' type="button" class="btn btn-outline-secondary rounded-pill "
        style="width:6rem; height: 40px;">
        <p class="" style="text-align: center; font-size: 16px;  ">
            Global</p>
    </a>




</div>
<!-- End Topic Menu Here -->

<!-- Container -->
<div class="flex-container">

    <div class="flex-item-left">
        <div class="container d-flex justify-content-center">

           


            {% for news in news %}
            <div class="card col-lg-8  d-flex">
                <img src="{{news.header_image.url}}" class="card-img-top" alt="...">
                <div class="card-body">
                    <div class="d-flex">
                        <img src="{{news.reporter.profile.profile_picture.url}}" width="30" height='30'
                            class="rounded-circle" alt="">
                        <span class="m-1 fs-5">{{news.reporter.first_name|title}}
                            {{news.reporter.last_name|title}}</span>
                        <span
                            class="m-1 fs-5 col-4 col-lg-2 text-center rounded-pill bg-dark text-light">{{news.category}}</span>
                    </div>
                    <h3 class="card-title">{{news.title|title}}</h3>
                    <div class="d-flex justify-content-between">
                        <span class="flex-col d-flex justify-content-start  fs-5 ">{{news.datePosted}}</span>
                        <div class=" flex-col d-flex justify-content-end">
                            <a href="{% url 'newsdetail' news.id news.title %}"
                                class="btn btn-outline-dark rounded-pill">Read More</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}


        </div>
    </div>
    <!-- Right Static Container -->
    <div class="flex-item-right border-start">
        <div class="container">
            {% if user.groups.all.0.name == 'reporters' %}
            <a href="{% url 'addnews' %}">Add News</a>
            {% endif %}
            <div>
                <!-- Topics -->
                <h2 class="mb-1 text-center">
                    <font face="Segoe UI" size="4.5px" color="#A4A1A1">Topics</font>
                </h2>
                <div class="row align-items-center text-center">
                    <div class="col">
                        <a style="width: 90%;" class="btn btn-outline-dark rounded-pill m-2" href="{% url 'newscategory' 'Campus' %}">
                            <font face="Segoe UI" size="4px" color="#A4A1A1" class="mt-1">Campus
                            </font>
                        </a>
                        <a style="width: 90%;" class="btn btn-outline-dark rounded-pill m-2" href="{% url 'newscategory' 'Local' %}">
                            <font face="Segoe UI" size="4px" color="#A4A1A1" class="mt-1">Local
                            </font>
                        </a>
                        <a style="width: 90%;" class="btn btn-outline-dark rounded-pill m-2" href="{% url 'newscategory' 'Global' %}">
                            <font face="Segoe UI" size="4px" color="#A4A1A1" class="mt-1">Global
                            </font>
                        </a>
                    </div>
                </div>
            </div>
            <!-- end of Topics -->
        </div>


        <hr style='width:250px; margin: auto' class="mt-3 mb-">
        <!-- footer  here-->
        <div class="">
            <div class="row align-items-start">
                <div class="col">
                    <a href="" type="button" class="btn - rounded-pill m-1">Help</a>
                    <button type="button" class="btn  rounded-pill m-1">About</button>
                    <button type="button" class="btn  rounded-pill m-1">Terms</button>
                    <button type="button" class="btn  rounded-pill m-1">Privacy</button>

                    <button type="button" class="btn - rounded-pill m-1">Contact</button>
                    <button type="button" class="btn  rounded-pill m-1">Write</button>

                </div>
            </div>

        </div>
    </div>
    <!-- footer here -->
</div>

<!-- End of Right Static Container -->
</div>

</div>
</div>
<!-- end of Container -->


<style>
    div.scrollmenu {
        overflow: auto;
        white-space: nowrap;
        padding: 5px 0px 5px 0px;
        height: 60px;
    }

    /* This pen */
    .light {
        background: #f3f5f7;
    }

    a,
    a:hover {
        text-decoration: none;
        transition: color 0.3s ease-in-out;
    }

    #pageHeaderTitle {
        margin: 2rem 0;
        text-transform: uppercase;
        text-align: center;
        font-size: 2.5rem;
    }



    @media screen and (max-width: 600px) {
        .flex-item-right {
            visibility: hidden;
            display: none;
        }
    }



    @media screen and (min-width: 769px) {
        div.scrollmenu {
            visibility: hidden;
            display: none;
        }

        .flex-container {
            display: flex;
            flex-direction: row;
        }

        .flex-item-left {
            padding: 10px;
            width: 80%;
            margin-left: 5%;
        }

        .flex-item-right {
            /* background-color:azure; */
            position: fixed;
            width: 20%;
            height: 900px;
            left: 75%;
            font-family: sans-serif;
        }

        .vl {
            border-left: 1px solid #A5A5A5;
            height: 750px;
            position: fixed;
            left: 69%
        }

        .flex-news-card {
            display: flex;
            flex-direction: row;
            font-size: 30px;
            text-align: center;
            margin-left: 20%;
            margin-right: 15%;
            width: 550px;
        }


        .grid-container {
            display: grid;
            grid-template-columns: auto auto auto auto;
            grid-gap: 10px;
            background-color: #2196F3;
            padding: 10px;
        }

        .grid-container>div {
            background-color: rgba(255, 255, 255, 0.8);
            text-align: center;
            padding: 20px 0;
            font-size: 30px;
        }




    }
</style>
{% endblock content %}

{% block script %}
<script>
    const boxes = document.querySelectorAll(".box");

    window.addEventListener("scroll", checkBoxes);

    checkBoxes();

    function checkBoxes() {
        const triggerBottom = (window.innerHeight / 5) * 4;

        boxes.forEach((box) => {
            const boxTop = box.getBoundingClientRect().top;

            if (boxTop < triggerBottom) {
                box.classList.add("show");
            } else {
                box.classList.remove("show");
            }
        });
    }

</script>
{% endblock script %}